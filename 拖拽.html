<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>拖拽</title>
        <style>
            *{
                margin:0;
                padding:0;
            }
            #drag{
                width:200px;
                height:200px;
                background-color: #f00;
                position:relative;
                cursor:pointer;
            }
        </style>
    </head>
    <body>
        hhhhhhhhhhhhhhhhhhh
        <div id="drag">

        </div>
    <script>
        (function(){    //函数立即调用，好的编程习惯防止污染全局变量；
            var oDrag = document.getElementById("drag");
            oDrag.onmousedown = function(e){
                e = e || window.event;//e事件对象，解决兼容问题；早期IE使用的是window.event;
                var iDisX = e.clientX - oDrag.offsetLeft;//e.clientX鼠标所在位置到浏览器左边位置的距离；
                var iDisY = e.clientY - oDrag.offsetTop;//offset只能取值不能赋值；

                //onmouseover要用到局部变量iDis，所以写在onmousedown里
                document.onmousemove = function(e){ //给document绑事件，阻止鼠标脱离oDrag无法实现拖拽；
                    e = e || window.event;
                    //var left = e.clientX - iDisX;
                    var top = e.clientY - iDisY;
                    oDrag.style.left = (e.clientX - iDisX) +"px";
                    oDrag.style.top = top +"px";
                    return false;   //表示函数一下代码不执行，在这里取消选中字体状态；
                };
            };

            oDrag.onmouseup = function(){

                document.onmousemove = null;
            };




        })();
    </script>
    </body>
</html>